<!DOCTYPE html>
<html>
<head>
    <title>Edit || Update</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/trash/styleUpdate.css">
</head>
<body>
    <form method="POST" action="/update/<%= complaint._id %>" enctype="multipart/form-data">
        <div class="container contact">
            <div class="row">
                <div class="col-md-3">
                    <div class="contact-info">
                        <img src="img/clients/complaint.jpg" alt="image"/>
                        <h2>Edit Complain</h2>
                        <h4>Please provide valid Information !</h4>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="contact-form">
                        <% if (msg) { %>
                            <div class="alert alert-<%= alertType %>">
                              <span class="fa fa-<%= alertType === 'success' ? 'check' : 'times' %>"><%= msg %></span>
                              <% if (alertType === 'success') { %>
                                <a href="http://localhost/EmailVerification/adminlogin/welcome">View Complain</a>
                              <% } %>
                            </div>
                          <% } %>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="name">Name:</label>
                            <div class="col-sm-10">          
                                <input type="text" class="form-control" id="name" placeholder="Enter Your Name" name="name" required value="<%= complaint.name %>">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="mobile">Mobile:</label>
                            <div class="col-sm-10">          
                                <input type="number" class="form-control" id="mobile" placeholder="Enter Your Mobile Number" name="mobile" required value="<%= complaint.mobile %>">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-10">
                                <input type="hidden" class="form-control" id="email" name="email" value="<%= complaint.email %>">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="option">Category:</label>
                            <div class="col-sm-10">          
                                <input type="checkbox" name="wastetype[]" value="organic" <%= (complaint.wastetype && complaint.wastetype.includes('organic')) ? 'checked' : '' %>>Organic
                                <input type="checkbox" name="wastetype[]" value="inorganic" <%= (complaint.wastetype && complaint.wastetype.includes('inorganic')) ? 'checked' : '' %>>Inorganic
                                <input type="checkbox" name="wastetype[]" value="Household" <%= (complaint.wastetype && complaint.wastetype.includes('Household')) ? 'checked' : '' %>>Metallic
                                <input type="checkbox" name="wastetype[]" value="mixed" <%= (complaint.wastetype && complaint.wastetype.includes('mixed')) ? 'checked' : '' %>>All
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="location">Location:</label>
                            <div class="col-sm-10">          
                                <select class="form-control" id="location" name="location">
                                    <option <%= complaint.location === 'Yahoo Junction' ? 'selected' : '' %>>Yahoo Junction</option>
                                    <option <%= complaint.location === 'Dynamo Junction' ? 'selected' : '' %>>Dynamo Junction</option>
                                    <option <%= complaint.location === 'Miracle Junction' ? 'selected' : '' %>>Miracle Junction</option>
                                    <option <%= complaint.location === 'Next Level' ? 'selected' : '' %>>Next Level</option>
                                    <option <%= complaint.location === 'Texas Junction' ? 'selected' : '' %>>Texas Junction</option>
                                    <option <%= complaint.location === 'Book Foundation' ? 'selected' : '' %>>Book Foundation</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="status">Status</label>
                            <div class="col-sm-10">          
                                <select class="form-control" id="status" name="status">
                                    <option <%= complaint.status === 'pending' ? 'selected' : '' %>>Pending</option>
                                    <option <%= complaint.status === 'resolved' ? 'selected' : '' %>>Resolved</option>
                                    <option <%= complaint.status === 'in-progress' ? 'selected' : '' %>>In-Progress</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-10">
                              <textarea class="form-control" rows="5" id="locationdescription" placeholder="Enter Location details..." name="locationdescription"><%= complaint.locationDescription %></textarea>
                            </div>
                          </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="file">Pictures:</label>
                            <div class="col-sm-10">          
                                <input type="file" class="form-control" id="file" name="file" accept="image/*" capture="camera">
                            </div>
                        </div>
                        <div class="form-group">        
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="hidden" class="form-control" name="date" value="<%= new Date().toLocaleString('en-US', { timeZone: 'Africa/Lagos', hour: 'numeric', minute: 'numeric', hour12: true }) + ', ' + new Date().toLocaleDateString('en-US', { timeZone: 'Africa/Lagos', weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }) %>"/>
                                <button type="submit" class="btn btn-default" name="update" id="update">Update</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</body>
</html>